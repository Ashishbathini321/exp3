<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Event Registration Form</title>
<style>
  * {
    box-sizing: border-box;
  }
  body {
    font-family: Arial, sans-serif;
    background: #f7f7f7;
    display: flex;
    justify-content: center;
    align-items: flex-start;
    padding: 40px 0;
    margin: 0;
  }
  .container {
    background: white;
    padding: 25px;
    border-radius: 8px;
    width: 400px;
    box-shadow: 0 0 15px rgba(0,0,0,0.1);
  }
  h2 {
    text-align: center;
    margin-bottom: 20px;
    color: #333;
  }
  form label {
    display: block;
    margin-bottom: 6px;
    margin-top: 12px;
    font-weight: bold;
  }
  form input[type="text"],
  form input[type="date"],
  form textarea,
  form input[type="file"] {
    width: 100%;
    padding: 8px 10px;
    border: 1px solid #ccc;
    border-radius: 4px;
  }
  form textarea {
    resize: vertical;
  }
  .gender-group {
    display: flex;
    gap: 15px;
    margin-bottom: 10px;
  }
  .gender-group label {
    font-weight: normal;
  }
  button {
    width: 100%;
    margin-top: 20px;
    padding: 12px;
    background: #007bff;
    color: white;
    font-size: 16px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
  }
  button:hover {
    background: #0056b3;
  }
  #message {
    margin-top: 15px;
    font-weight: bold;
    text-align: center;
  }
  #message.success {
    color: green;
  }
  #message.error {
    color: red;
  }
</style>
</head>
<body>
  <div class="container">
    <h2>Event Registration Form</h2>
    <form id="registrationForm" novalidate>
      <label for="firstName">First Name:</label>
      <input type="text" id="firstName" name="firstName" required />

      <label for="lastName">Last Name:</label>
      <input type="text" id="lastName" name="lastName" required />

      <label for="dob">Date of Birth:</label>
      <input type="date" id="dob" name="dob" required />

      <label>Gender:</label>
      <div class="gender-group">
        <label><input type="radio" name="gender" value="Male" required /> Male</label>
        <label><input type="radio" name="gender" value="Female" /> Female</label>
        <label><input type="radio" name="gender" value="Other" /> Other</label>
      </div>

      <label for="address">Address:</label>
      <textarea id="address" name="address" rows="3" required></textarea>

      <label for="passportPhoto">Upload Passport Size Photo (Max 2MB, JPG/PNG):</label>
      <input type="file" id="passportPhoto" name="passportPhoto" accept="image/jpeg, image/png" required />

      <label for="signature">Upload Signature (Max 1MB, JPG/PNG):</label>
      <input type="file" id="signature" name="signature" accept="image/jpeg, image/png" required />

      <button type="submit">Register</button>
    </form>

    <div id="message"></div>
  </div>

<script>
document.getElementById('registrationForm').addEventListener('submit', function(e) {
  e.preventDefault();

  const firstName = document.getElementById('firstName').value.trim();
  const lastName = document.getElementById('lastName').value.trim();
  const dob = document.getElementById('dob').value;
  const genderElems = document.getElementsByName('gender');
  const address = document.getElementById('address').value.trim();
  const passportPhoto = document.getElementById('passportPhoto').files[0];
  const signature = document.getElementById('signature').files[0];
  const messageDiv = document.getElementById('message');

  messageDiv.textContent = '';
  messageDiv.className = '';

  if (firstName === '') {
    showMessage('Please enter your first name.', 'error');
    return;
  }

  if (lastName === '') {
    showMessage('Please enter your last name.', 'error');
    return;
  }

  if (!dob) {
    showMessage('Please select your date of birth.', 'error');
    return;
  }
  if (!isAdult(dob)) {
    showMessage('You must be at least 18 years old to register.', 'error');
    return;
  }

  let genderSelected = false;
  for (const g of genderElems) {
    if (g.checked) {
      genderSelected = true;
      break;
    }
  }
  if (!genderSelected) {
    showMessage('Please select your gender.', 'error');
    return;
  }

  if (address === '') {
    showMessage('Please enter your address.', 'error');
    return;
  }

  if (!passportPhoto) {
    showMessage('Please upload your passport size photo.', 'error');
    return;
  }
  if (!validateFile(passportPhoto, 2 * 1024 * 1024)) {
    showMessage('Passport photo must be JPG/PNG and less than 2MB.', 'error');
    return;
  }

  if (!signature) {
    showMessage('Please upload your signature.', 'error');
    return;
  }
  if (!validateFile(signature, 1 * 1024 * 1024)) {
    showMessage('Signature must be JPG/PNG and less than 1MB.', 'error');
    return;
  }

  showMessage('Registration successful! Thank you for signing up.', 'success');
  this.reset();
});

function showMessage(msg, type) {
  const messageDiv = document.getElementById('message');
  messageDiv.textContent = msg;
  messageDiv.className = type;
}

function isAdult(dateString) {
  const dob = new Date(dateString);
  const today = new Date();
  let age = today.getFullYear() - dob.getFullYear();
  const m = today.getMonth() - dob.getMonth();
  if (m < 0 || (m === 0 && today.getDate() < dob.getDate())) {
    age--;
  }
  return age >= 18;
}

function validateFile(file, maxSize) {
  const allowedTypes = ['image/jpeg', 'image/png'];
  if (!allowedTypes.includes(file.type)) {
    return false;
  }
  if (file.size > maxSize) {
    return false;
  }
  return true;
}
</script>
</body>
</html>
